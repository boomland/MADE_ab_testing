# Домашнее задание №4 "Анализ проведенного АБ-теста"

## [Ноутбук с решением](https://github.com/boomland/MADE_ab_testing/blob/master/hw4/hw_analysis_ab_test.ipynb)

## Текст задания:
В данном задании вам нужно будет провести анализ данных проведенного A/B-теста.

Данные будут предоставлены в формате csv. Они будут содержать также часть пред экспериментального этапа.

__Описание эксперимента:__

Есть мобильное приложение. В этом приложении у пользователей есть возможность покупать игровые предметы за реальные деньги. Чтобы стимулировать пользователей их покупать, приложение периодически предлагает пользователям товары - появляется окошко с рекомендацией купить товар. Отдел машинного обучения предложил улучшение для текущего алгоритма выбора рекомендации. Для проверки улучшений алгоритма был проведен A/B тест. Лог его проведения предоставлен в прикрепленном файле. 

__Метрика:__ 

Cредний доход от пользователя за 1 неделю после первого показа ему рекомендации на 10% (после начала A/B теста время первого показа ищется снова)

__Важная информация:__

Эксперимент начинается _2023-05-01_. Данные есть до _2023-06-01_ (но можно завершить раньше, если это позволит оценка длительности)
Вам сказали, что его длительность должна составить _1 месяц_.
Все покупки, которые вызваны не влиянием рекомендаций, в этом логе не учитываются

__Описание данных:__

- _id_product_ -  идентификатор продукта, который был рекомендован
- _is_pay_ - купил ли пользователь товар
- _sum_payment_ - размер платежа (0, если не купил)
- _city_ - город, в котором находится пользователь
- _id_user_ - пользователь
- _timestamp_ - timestamp события
- _date_ - дата события

__Задачи, которые необходимо решить:__

- Оценить длительность теста на момент его начала. Сравнить с предложенной. Для оценки необходимо использовать данные с пред экспериментального периода. Посмотреть, есть ли выбросы в данных.

- Построить методику расчета целевой метрики. Рассчитать целевую метрику на день окончания теста (рассчитанной в п1) для группы A и B, рассчитать эффект, p_value. Посмотреть, есть ли выбросы в данных.
Рассчитать метрики из п2 по дням и построить их графики.
Принять решение о результате теста - обосновать.

_Дополнительно:_
- При подсчете метрик обработать выбросы в данных - описать почему их можно удалить из теста, если они удаляются. Пожалуйста, не заглядывайте в будущее по данным, если рассчитанная длительность меньше предоставленных данных.

__Данные:__

[Cсылка](https://davmedia.gtp.tech-mail.ru/uploads/bigdata/files/2023/6/axNSsVJtVBJbNUgD.gzip), читать стоит с `pd.read_csv("ab_made_4.gzip", compression='gzip')`